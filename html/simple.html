<!DOCTYPE html>
<html>
<head>
<title>Easpr Demo</title>
<link href="../bootstrap/css/bootstrap.min.css" rel="stylesheet">
<link href="../css/demo.css" rel="stylesheet">
<script type="text/javascript"
	src="http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
<script src="http://simplewebrtc.com/latest.js"></script>
<script>
	$(document).ready(function() {
		
		var webrtc = new SimpleWebRTC({

			// the id/element dom element that will hold "our" video
			localVideoEl : 'localVideo',
			// the id/element dom element that will hold remote videos
			remoteVideosEl : 'remotesVideos',
			// immediately ask for camera access
			autoRequestMedia : true
		});

		$('#joinBtn').on('click', function() {
			
			console.log("Click!");
			
			if ($('#roomName').val() != "") {
				
				//clear current videos
				$('#remotesVideos').empty();
				
				//console.log("got there");
				var roomName = $('#roomName').val();
				
				$('#roomName').val("");
				
				webrtc.joinRoom(roomName);

			} else {
				
				alert("Room name can't be empty");
			}
		});

		// we have to wait until it's ready
		webrtc.on('readyToCall', function() {
			webrtc.joinRoom('Default Room');

		});

	});
</script>
</head>

<body>
	<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse"
					data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">Easpr Demo</a>
			</div>
			<div class="navbar-collapse collapse">
				<form class="navbar-form navbar-right" role="form">
					<div class="form-group" id="roomNav">
						<input type="text" placeholder="Room name" id="roomName"
							name="roomName" class="form-control">
					</div>
					<button type="button" id="joinBtn" class="btn btn-success">Join
						Room</button>
				</form>
			</div>
			<!--/.navbar-collapse -->
		</div>
	</div>

	<!--<div id="roomNav">
//		<input id = "roomName" type="text" name="roomName">
//		<button id = "joinBtn" type="button">Join Room</button>
	</div>-->
	<div id="remotesVideos"></div>
	<video height="500" id="localVideo"></video>

	<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
	<script src="../bootstrap/js/bootstrap.min.js"></script>
</body>

</html>
