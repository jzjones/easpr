<!DOCTYPE html>
<html>
<head>
	<title>Easpr Demo</title>
	<script src='bower_components/platform/platform.js'></script>
	<link rel='import' href='polymerElements/webrtc-element.html'>
	<link rel='import' href='polymerElements/videochat-element.html'>
  	<link rel='import' href='polymerElements/textchat-element.html'>
    <link rel='import' href='polymerElements/webrtc-container.html'>
</head>

<body>

  <div id='header'>
    <input id='roomInput' type='text'>Enter Room
    <button id='createRoom'>Create</button>
    <button id='joinRoom'>Join</button>  
  </div>
  <div id='channelDiv'></div>

</body>

<script>
document.addEventListener('polymer-ready', function() {

  document.getElementById('createRoom').onclick=function(){
     var cDiv=document.getElementById("channelDiv");
      while(cDiv.hasChildNodes()){
        cDiv.firstChild.end();
        cDiv.removeChild(cDiv.firstchild)
      }

    var elContainer=new WebRTCContainer();

    elContainer.initialize(document.getElementById('roomInput').value,'create');
    //elContainer.initiate();
    cDiv.appendChild(elContainer);
  }

   document.getElementById('joinRoom').onclick=function(){
     var cDiv=document.getElementById("channelDiv");
      while(cDiv.hasChildNodes()){
        cDiv.firstChild.end();
        cDiv.removeChild(cDiv.firstchild)
      }

    var elContainer=new WebRTCContainer();
    elContainer.initialize(document.getElementById('roomInput').value,'join');
    //elContainer.join();
    cDiv.appendChild(elContainer);
  }
});

</script>
</html>